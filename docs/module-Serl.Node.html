<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Node</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Node</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="module-Serl.html">Serl</a>.</span>Node<span class="signature">(given)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Constructor for objects analogous to an <a href="https://erlang.org/doc/reference_manual/distributed.html#nodes">OTP node</a>.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Node"><span class="type-signature"></span>new Node<span class="signature">(given)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>given</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Following OTP convention, a <a href="https://erlang.org/doc/reference_manual/distributed.html#nodes">node name</a>,
names should be 'given@host'.</p></td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>nodeIndexFromNodeName</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p><a href="module-Serl.Node.html#.nodeIndexFromNodeName">module:Serl.Node.nodeIndexFromNodeName</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>spawn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p><a href="module-Serl.Node.html#spawn">module:Serl.Node#spawn</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>host</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-Serl.Node.html#host">module:Serl.Node#host</a></span>


            
            </td>

            

            

            <td class="description last"><p>Should mirror OTP convention, presumably refer
to a hostfile.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-Serl.Node.html#name">module:Serl.Node#name</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>procMap</code></td>
            

            <td class="type">
            
                
<span class="param-type">Map</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>nodeMap</code></td>
            

            <td class="type">
            
                
<span class="param-type">Map</span>


            
            </td>

            

            

            <td class="description last"><p>A map of connected nodes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cookie</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>todo/unimplemented</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>hidden</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>todo/unimplemented</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="serl.js.html">serl.js</a>, <a href="serl.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Rename module from Serl to OTP? (Brand reinforcement; possibly
 conveying a sense of false legitimacy.)</li>
        
            <li>Distributed Erlang functionality (we don't need this yet) 
 https://erlang.org/doc/reference_manual/distributed.html</li>
        </ul>
    </dd>
    
</dl>




















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="host"><span class="type-signature"></span>host<span class="type-signature"> :String</span></h4>




<div class="description">
    <p>This custom type exists only in documentation, and must
be manually enforced in code, by developers.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">String</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>module:Serl.Node#host</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="serl.js.html">serl.js</a>, <a href="serl.js.html#line93">line 93</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Assign from a hostfile.</li>
        </ul>
    </dd>
    
</dl>






        
            
<h4 class="name" id="name"><span class="type-signature"></span>name<span class="type-signature"> :String</span></h4>




<div class="description">
    <p>Has the form <code>given@host</code>, which is based on
the given-name of each call to <code>Node(given)</code>. Analogous
to an OTP <a href="https://erlang.org/doc/reference_manual/distributed.html#nodes">node name</a></p>
<p>This custom type exists only in documentation, and must
be manually enforced in code, by developers.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">String</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>module:Serl.Node#name</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="serl.js.html">serl.js</a>, <a href="serl.js.html#line108">line 108</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>In OTP convention, this depends on -name vs -sname flags</li>
        </ul>
    </dd>
    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".nodeIndexFromNodeName"><span class="type-signature">(static) </span>nodeIndexFromNodeName<span class="signature">(node, nodeName)</span><span class="type-signature"> &rarr; {integer}</span></h4>
    

    



<div class="description">
    <p>Utility function, returning a <code>nodeIndex</code>, integers used as
keys in module:Serl.Node#nodeMap.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>node</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-Serl.Node.html">module:Serl.Node</a></span>


            
            </td>

            

            

            <td class="description last"><p>An instance of the Node class.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>nodeName</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-Serl.Node.html#name">module:Serl.Node#name</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="serl.js.html">serl.js</a>, <a href="serl.js.html#line211">line 211</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="spawn"><span class="type-signature"></span>spawn<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Implements various arities of spawn/n.
Spawns an instance of <a href="module-Serl.Proc.html">Proc</a> on some a certain
instance of <a href="module-Serl.Node.html">Node</a>. The keyword
<code>this</code> in any <code>fun</code> passed to spawn/n will refer
to the spawned <code>proc</code>.</p>
<blockquote>
<h4><span style="color:red;"><strong>WARNING: Pass-by-value Only</strong></span></h4>
<p><strong>Introduction to Concern:</strong></p>
<p>This method is fundamental to OTP resourcing paradigms, specifically the
notion that 'zero memory is shared'. So if you pass in anything by
reference (objects... includng function objects, and array objects) then
you break OTP conventions.</p>
<p><strong>Working Conclusion:</strong></p>
<p>See (2) below.</p>
<p><strong>Discussion:</strong></p>
<p>As of 2019, there exists much active discussion
[<a href="https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript">1</a>] about the absence of a
canonical deep-clone method in JavaScript. Yet even the HTML5
specified <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">structured clone
algorithm</a>
doesn't handle function objects. Using a third-party library forces a
dependency upon Serl, so we're avoiding this path. Two options remain:</p>
<ol>
  <li>Leave Serl-users to handle reference-removal</li>
  <li>Write a Serl-specific cloning method</li>
</ol>
<table>
<thead>
<tr>
<th><span style="background-color:#fcc;">The Case for (1)</style></th>
<th><span style="background-color:#cfc;">The Case for (2)</style></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>The minimal approach is to do nothing. In this approach, passing-by-value only would be managed by the user/developer. Following OTP convention, developers should not design programs to require a large datum to be passed as an argument.  </p> <p>Yet under this approach, should we conduct a partial clone, as is the case with most cloning libraries, or should we attempt to fully clone methods as well? Well, it turns out that we can't ignore functions since even spawn/1 is called on a function, which needs to be unreferenced from anywhere else.</p> <p>So if we're going to implement function cloning, then we might as well proceed to (2)...</p></td>
<td><p>This extensive approach increases the probability that Serl is actually used correctly. Since correctness in terms of following OTP protocols is the point of Serl, we now embark on this track.</p></td>
</tr>
</tbody>
</table>
</blockquote>
<h5>spawn/1</h5>
<p>Spawns a Proc object on the parent node, which applies
<code>fun</code> to an empty array <code>[]</code>. See
<a href="http://erlang.org/doc/man/erlang.html#spawn-1">OTP docs</a>.</p>
<h6>Parameters:</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fun</td>
<td>Function</td>
<td>The function which will run in this process.</td>
</tr>
</tbody>
</table>
<h5>spawn/2</h5>
<p>(coming soon)</p>
<h5>spawn/3</h5>
<p>Spawns a Proc object on the parent node, which applies a function (given and
accessed via a module) to a list of arguments, in the manner of:</p>
<pre class="prettyprint source"><code>module[funName]( ... funArgs )&lt;/code>
</code></pre>
<p>See
<a href="http://erlang.org/doc/man/erlang.html#spawn-3">OTP docs</a>.</p>
<h6>Parameters:</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>module</td>
<td>Object</td>
<td>An object representing a code Module, with callable methods.</td>
</tr>
<tr>
<td>funName</td>
<td>String</td>
<td>The string name of a method of <code>module</code>.</td>
</tr>
<tr>
<td>funArgs</td>
<td>Array</td>
<td>An array of arguments to pass to <code>module[funName]</code> when the latter is called.</td>
</tr>
</tbody>
</table>
<h5>spawn/4</h5>
<p>(coming soon)</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="serl.js.html">serl.js</a>, <a href="serl.js.html#line227">line 227</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>implement the 'undefined function' error</li>
        
            <li>refer to 'dynamic module loading' and module objects later</li>
        
            <li>When <code>fun</code> returns, Proc should exit formally.</li>
        
            <li>Enforce passing objects by value (copy on call).</li>
        </ul>
    </dd>
    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Serl.html">Serl</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-Serl._Node_nodeMap_.html">'Node#nodeMap'</a></li><li><a href="module-Serl._Node_procMap_.html">'Node#procMap'</a></li></ul><h3>Classes</h3><ul><li><a href="module-Serl.Node.html">Node</a></li><li><a href="module-Serl.Pid.html">Pid</a></li><li><a href="module-Serl.Proc.html">Proc</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Jan 18 2020 14:53:35 GMT+0800 (Malaysia Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>